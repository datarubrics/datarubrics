{"id": "Bl8u7ZRlbM", "page_num": 6, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Figure 4: T-SNE plots of the embeddings of user prompts from WILDCHAT and other datasets.\\n\\nTable 7: The percentage of toxic turns in each dataset flagged by OpenAI Moderation API.\\n\\n| Dataset       | User | Chatbot |\\n|---------------|------|---------|\\n| Alpaca        | 0.01%| 0.02%   |\\n| Dolly         | 0.53%| 0.45%   |\\n| Open Assistant| 0.16%| 0.28%   |\\n| ShareGPT      | 3.08%| 4.12%   |\\n| LMSYS-Chat-1M | 6.05%| 5.18%   |\\n\\nToxicity Overview\\n\\nWe applied both toxicity classifiers to user prompts and chatbot responses in WILDCHAT. Our findings indicate that 10.46% of user turns and 6.58% of chatbot turns are deemed toxic by either Detoxify or Moderation. However, there is limited agreement between these two classifiers: while Detoxify flags 8.12% of user turns and Moderation flags 6.05% of user turns, only 3.73% of user turns are flagged by both classifiers. We conducted manual checks on the examples identified only by Detoxify and those detected solely by Moderation, discovering that most of these instances are indeed true positives. This observation suggests that employing multiple detection tools can enhance the overall recall in identifying toxic content within conversations.\\n\\nThe most prevalent type of toxicity, according to Moderation, is sexual, accounting for 88.51% of toxic user turns. A detailed breakdown of the toxicity categories is available in Appendix D.\\n\\nFurthermore, we used Moderation to analyze user and chatbot turns in other datasets, including Alpaca, Dolly, Open Assistant, ShareGPT, and LMSYS-Chat-1M, and present the results in Table 7. The comparison reveals that WILDCHAT exhibits higher toxicity ratios than other datasets, underscoring its potential as a rich resource for studying toxicity in user-chatbot interactions.\\n\\nToxicity Over Time\\n\\nWe analyzed the toxicity rate of user and chatbot turns by month and visualized the trends in Figure 5. Initially, in April and May 2023, the ratio of toxic chatbot turns was even higher than that of toxic user turns. This trend saw a reversal after June, with a sharp decline.\\n\\nFor this analysis, we sampled a random subset of 1,000 examples from LMSYS-Chat-1M.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 7, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Figure 5: Toxicity rate of user and chatbot turns by month.\\n\\nTable 8: Occurences of online jailbreaking prompts.\\n\\n| Prompt            | Occurrences | Users | Success % |\\n|-------------------|-------------|-------|-----------|\\n| Narotica          | 3,903       | 211   | 61.82     |\\n| Do Anything Now   | 2,337       | 531   | 15.83     |\\n| NsfwGPT           | 1,684       | 294   | 68.34     |\\n| EroticaChan       | 883         | 88    | 65.91     |\\n| 4chan user        | 408         | 56    | 60.78     |\\n| Alphabreak        | 356         | 72    | 38.42     |\\n| JailMommy         | 274         | 45    | 71.16     |\\n\\nin the ratio of toxic chatbot turns. We attribute this change primarily to the June 27 OpenAI model update. From there on, there has been a consistent reduction in the ratio of toxic chatbot turns.\\n\\nJailbreaking Analysis\\n\\nChatbot developers have fine-tuned models to avoid generating harmful responses (OpenAI, 2023). However, a persistent issue is users attempting to trick or guide these systems into producing restricted outputs, a phenomenon known as jailbreaking. In WILDCAT, we note a significant influence of online social media platforms in promoting jailbreaking behaviors, where many jailbreaking prompts used by users are exact copies found circulating online. We identified the seven most prominent jailbreaking prompts in our dataset and analyzed their frequency, the number of unique users employing them, and their jailbreaking success rates. The success rate for each prompt was determined by whether the chatbot's response to such a prompt was flagged by either Detoxify or OpenAI Moderation API. These findings are summarized in Table 8.\\n\\nAmong these, the prompt \u201cJailMommy\u201d exhibits the highest success rate at 71.16%. This analysis underscores the need for developing adaptive defense mechanisms that can respond to evolving language use, specifically targeting the dynamic nature of toxic content and jailbreaking techniques in user-chatbot interactions. An example of a jailbreaking prompt is provided in Appendix E.\\n\\n16 https://openai.com/blog/function-calling-and-other-api-updates\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 8, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 9: Likert score comparison of WILD LAMA with baseline models on MT-bench. The highest score for each column in the open source category is boldfaced.\\n\\n| First Turn | Second Turn | Average |\\n|------------|-------------|---------|\\n| Proprietary | GPT-3.5     | 8.06    |\\n|           | GPT-4       | 8.96    |\\n| Open Source | Vicuna     | 6.68    |\\n|           | Llama-2 Chat | 6.41    |\\n|           | WILD LAMA   | 6.80    |\\n\\nFigure 6: Breakdown of Likert score comparisons by dimensions on MT-bench.\\n\\nInstruction fine-tuning is a critical step in aligning chatbot responses with user preferences (Touvron et al., 2023). We leverage WILD CHAT as a dataset for instruction tuning, fine-tuning a Llama-2 7B model to produce a new model, which we refer to as WILD LAMA.\\n\\nTraining Details\\nFor the training of WILD LAMA, we used WILD CHAT collected up until July 16, 2023. To ensure a direct comparison with the state-of-the-art in open-sourced chatbot models, we adopted the same implementation and hyperparameters as those used for the Vicuna model.\\n\\nWe used four NVIDIA A100 GPUs with 80G memory, an effective batch size of 128 conversations, a learning rate of 2e-5, and a maximum sequence length of 2048 tokens. Any conversations exceeding this length were divided into multiple conversations. We fine-tuned WILD LAMA for three epochs.\\n\\nEvaluation and Results\\nWe used LLM Judge to evaluate WILD LAMA on MT-bench (Zheng et al., 2023), which evaluates chatbot responses across various dimensions such as writing, roleplay, coding, mathematics, reasoning, STEM, and humanities, using GPT-4 for grading. For comparative analysis, we included two open-source models\u2014Vicuna 7B and Llama-2 Chat 7B\u2014as well as two proprietary models, GPT-3.5 and GPT-4, as baselines.\\n\\nTable 9 presents the Likert scores from LLM Judge for each model. WILD LAMA outperforms other open-source models of the same size, although it significantly underperforms proprietary models GPT-3.5 and GPT-4. Figure 6 details the performance breakdown by dimension, showing that WILD LAMA excels in roleplay and coding but is less effective in responding to extraction prompts.\\n\\nFurther evaluations using LLM Judge for preference-based comparisons are summarized in Table 10.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 9, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 10: Pairwise comparison among models.\\n\\n|        | WILD | LAMA | Vicuna |\\n|--------|------|------|--------|\\n| Win    | 30.94| 12.50| 10.00  |\\n| Tie    | 49.06| 48.13| 44.38  |\\n| Loss   | 20.00| 39.37| 45.62  |\\n\\nWILD slightly outperforms Vicuna. It is important to note that neither WILD nor Vicuna includes the RLHF step, unlike Llama-2 Chat, which may account for their performance disparity. In direct comparisons between WILD and Vicuna, WILD is found to lose to Vicuna only 20% of the time, outperforming or performing on par with Vicuna in most cases.\\n\\n6 LIMITATIONS\\n\\nUser Demographics\\n\\nSince our chatbot is hosted on Hugging Face Spaces, the majority of users are likely associated with the IT community. This demographic may not adequately reflect the general population and could influence the types of conversations present in the dataset, such as a prevalence of coding questions. Additionally, the URL to our chat service has been shared across various subreddits, which may lead to an overrepresentation of users from those specific communities.\\n\\nToxicity Selection Bias\\n\\nOne notable aspect of our chatbot is the anonymity it provides, which may attract users who prefer to engage in discourse they would avoid on platforms that require registration. This anonymity can lead to a selection bias towards more toxic content, as evidenced by discussions on platforms like Hacker News, where the anonymous nature is sometimes correlated with an increase in such content.\\n\\nUsefulness of More Data\\n\\nZhou et al. (2023) posits that a small number of high-quality, carefully-curated instruction-following examples might suffice for aligning a pretrained LLM with human preferences, calling into question the necessity of large datasets. While our dataset is abundant in terms of volume, it's worth questioning whether this abundance is always necessary. However, the strength of our dataset lies in its capture of real-world user interactions, which are invaluable not only for training more robust chatbots but also for facilitating user modeling and user studies.\\n\\n7 Ethical Considerations\\n\\nThe release of WILDChat raises several ethical considerations. Although our service does not require user accounts, thereby offering a degree of anonymity, there remains the possibility that users may inadvertently include personal information within their conversations. To mitigate this risk, we removed personally identifiable information (PII) to protect user privacy. Furthermore, we only release hashed IP addresses accompanied by coarse-grained geographic information at the state level, ensuring that it is not feasible to trace any conversation back to an individual user. Additionally, all data releases undergo internal reviews conducted by the AI2 legal team to ensure compliance with data protection laws and ethical standards.\\n\\n8 Conclusions\\n\\nThis paper presents WILDChat, a dataset of over 1 million real user-chatbot interaction logs. This dataset fills a gap in conversational AI research by offering a closer approximation to real-world, multi-turn, and multilingual conversations. The toxicity analysis sheds light on how to develop better safeguarding mechanisms. We additionally demonstrate the dataset's utility in fine-tuning state-of-the-art open-source chatbot models. This large-scale dataset has the potential to support future research in numerous areas ranging from computational social science and conversational AI, to user behavior analysis and AI ethics.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 14, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Step 1: Initial User Agreement\\n\\nUpon entering our chatbot, which is hosted on Hugging Face Spaces, users are presented with a User Consent screen that outlines the terms for data collection, use, and sharing. The screenshot in Figure 8 shows the statements that users must agree to before proceeding to use the chatbot.\\n\\nThe agreement covers the following aspects:\\n\\n- **Collection**: Information like user inputs, outputs generated by OpenAI\u2019s API, and technical details about the device and connection may be collected.\\n- **Use**: The collected data may be used for research purposes, service improvement, and product development.\\n- **Sharing and Publication**: The data may be published or shared with third parties.\\n- **Data Retention**: Data may be retained for as long as necessary.\\n\\nStep 2: Explicit Consent for Data Publication\\n\\nAfter agreeing to the initial terms, a pop-up window appears to reconfirm the users\u2019 consent, specifically for the publication and sharing of their data. The screenshot in Figure 9 captures this additional layer of consent.\\n\\nUsers are directed to the actual chatbot application only after clicking \u201cYes\u201d on this pop-up, thereby ensuring that we have their explicit consent to collect, use, and potentially share their data for the purposes outlined.\\n\\nWe conduct a qualitative analysis and present the results in Table 11. Our findings indicated that: (1) natural user prompts often lack explicitness, consequently necessitating more than one interaction to adequately cater to the user\u2019s needs; (2) users commonly alternate between multiple languages; (3) users tend to frequently change topics within conversations; (4) a considerate portion of user prompts pertain to politics; and (5) a significant number of the questions necessitate multi-hop reasoning.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 15, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 11: Representative user prompts in WILDCHAT.\\n\\n| Category    | Examples                                                                 |\\n|-------------|--------------------------------------------------------------------------|\\n| Ambiguity   | buying a car from a junkyard that hasn't run since 1975                  |\\n|             | make a cease model paragraph why is it important to preserve africa's national rainforest |\\n| Code-switching | \u8bba\u6587\u7684 introduction \u600e\u4e48\u5199\u4f60\u80fd\u4e0d\u80fd\u5199\u4e00\u6bb5\u7b80\u77ed\u7684\u6709\u5173\u538b\u529b\u7684\u82f1\u6587\u60c5\u666f\u5bf9\u8bdd\u5417\uff1f\u8bf4\u8bdd\u7684\u5185\u5bb9\u9700\u8981\u5305\u62ec what, why and how\u3002\u77ed\u4e00\u4e9b\u77ed\u4e00\u4e9b |\\n| Topic-switching | (Turn 1:) is lao sao zi a compliment in chinese? (Turn 2:) you are professional math teacher, how will you write equation of a circle in general form (show your solution) the question is (x+4)^2 + (y\u22129)^2 = 144 (Turn 1:) is it wrong to feel depressed? (Turn 2:) write some code in php that uses laravel the framework. It should be a homepage that displays the needed button in order to calculate how to share a total cost based on a number of people and their invoices |\\n| Political Questions | Is it fair to call Barack Obama a \\\"fraud\\\" for failing to address the issues he ran on in 2008? Is it fair to say that he \\\"enriched himself\\\" by appearing on television shows and movies? Is it fair to say that Barack Obama being President is what lead to Trump? Did Obama directly intervene in the 2016 Democratic Primary or is this a conspiracy theory by disgruntled Bernie Sanders supporters? Was Putin right to invade Ukraine? |\\n| Complex Questions | is it possible to put this nightmode switcher near these horizontal line of flags from the right side and adjust the sizes properly, using only css and html, without any javascripts. can you do this without ruining functionality of displaying text on flag click, select text ability independent of nightmode state? If there is no Invoice present in zuora revenue detail report then how to identify why it is not present though invoice is posted and revenue is correctly distributed? |\\n\\nTable 12: Breakdown of toxicity ratios in fine-grained categories according to Detoxify classifications.\\n\\n| Identity Attack | Insult | Obscene | Severe | Toxicity | Sexual Explicit | Threat |\\n|----------------|--------|---------|--------|----------|-----------------|--------|\\n| Alpaca         | 0.06   | 0.32    | 0.03   | 0.00     | 0.03            | 0.04   |\\n| Dolly          | 0.06   | 0.24    | 0.02   | 0.00     | 0.03            | 0.18   |\\n| Open Assistant | 0.1    | 1.04    | 0.34   | 0.02     | 0.23            | 0.2    |\\n| ShareGPT       | 0.07   | 0.48    | 0.19   | 0.01     | 0.18            | 0.25   |\\n| WILDCHAT       | 0.38   | 2.80    | 2.95   | 0.37     | 4.81            | 0.46   |\\n\\nTable 13: Breakdown of toxicity ratios in fine-grained categories according to OpenAI Moderation API classifications.\\n\\n| Harassment | Hate | Self-Harm | Sexual Violence |\\n|------------|------|-----------|-----------------|\\n| Alpaca     | 0.01 | 0.00      | 0.00            |\\n| Dolly      | 0.00 | 0.00      | 0.00            |\\n| Open Assistant | 0.46 | 0.03      | 0.04            |\\n| ShareGPT   | 0.06 | 0.00      | 0.08            |\\n| WILDCHAT   | 0.70 | 0.14      | 5.93            |\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 16, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 12 and Table 13 present the toxicity ratios in fine-grained categories classified by Detoxify and OpenAI moderation API, respectively.\\n\\nTo minimize the harm the jailbreaking prompts may cause, we will make the rest of these prompts available upon request with a justification for AI safety research.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 2, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":true,\"is_diagram\":false,\"natural_text\":\"Table 1: Statistics of WILDCHAT compared to other conversation datasets. Token statistics are computed based on the Llama-2 tokenizer (Touvron et al., 2023). The number of users in WILDCHAT is estimated using the number of unique IP addresses.\\n\\n| Dataset       | #Convs | #Users | #Turns | #User Tok (\u00b1) | #Chatbot Tok (\u00b1) | #Langs (\u00b1) |\\n|---------------|--------|--------|--------|---------------|------------------|------------|\\n| Alpaca        | 52,002 | 1.00   | 19.67  | \u00b115.19        | \u00b1164.51          | 1          |\\n| Open Assistant| 46,283 | 13,500 | 2.34   | \u00b133.41        | \u00b1211.76          | 11         |\\n| Dolly         | 15,011 | -      | 110.25 | \u00b191.14        | \u00b191.14           | 1          |\\n| ShareGPT      | 94,145 | -      | 94.46  | \u00b1348.45       | \u00b1348.45          | 41         |\\n| LMSYS-Chat-1M | 1,000,000 | 210,479 | 2.02   | \u00b169.83        | \u00b1215.71          | 65         |\\n| WILDCHAT      | 1,009,245 | 196,927 | 2.52   | 295.58        | 441.34           | 68         |\\n\\nNotable exception of the concurrent work, LMSYS-Chat-1M (Zheng et al., 2024), natural use cases involving actual user interactions are mostly proprietary. As a result, researchers often have to rely on expert-curated datasets, which usually differ in distribution from real-world interactions and are often limited to single-turn conversations.\\n\\nTo bridge this gap, this paper presents the WILDCHAT dataset, a comprehensive multi-turn, multi-lingual dataset consisting of 1 million timestamped conversations, encompassing over 2.5 million interaction turns collected via a chatbot service powered by the ChatGPT and GPT-4 APIs. In addition, WILDCHAT provides demographic details such as state, country, and hashed IP addresses, alongside request headers, to enable detailed behavioral analysis over time and across different regions. All data is gathered with explicit user consent.\\n\\nWILDCHAT serves multiple research purposes: First, it offers a closer approximation than existing datasets to real-world, multi-turn, and multi-lingual user-chatbot interactions, enriched with demographic details such as state, country, and hashed IP addresses to enable more fine-grained behavioral analysis. Second, we find a surprisingly high level of toxicity\u2014over 10% of interactions\u2014highlighting an urgent area for intervention and providing a rich resource for studying and combating toxic chatbot interactions. Third, we demonstrate the effectiveness of the dataset for instruction-tuning chatbots: simply fine-tuning a language model on the raw dataset results in a strong chatbot, showing its potential to be further curated to create better instruction tuning datasets.\\n\\n### Methodology\\n\\nTo collect WILDCHAT, we deployed two chatbot services, one powered by the GPT-3.5-Turbo API and the other by the GPT-4 API. Both services were hosted on Hugging Face Spaces and were made publicly accessible. We collected chat transcripts along with IP addresses and request headers, which include information about browser versions and accepted languages. Importantly, users were not required to create an account or enter personal information to use our services, ensuring anonymity and ease of access. For a detailed view of the user interface, please refer to Appendix A. The current dataset compilation spanned from April 9, 2023, at 12:00 AM to April 12, 2024, at 12:00 AM. We plan to continue to provide these services and update the dataset with new conversations as they are collected.\\n\\n### User Consent\\n\\nGiven the ethical considerations surrounding data collection and user privacy, we implemented a user consent mechanism. Users were first presented with a \u201cUser Consent for Data Collection, Use, and Sharing\u201d agreement, which outlined the terms of data collection, usage, and sharing. Users can only access the chat interface after consenting to these terms and acknowledging a secondary confirmation message. Further details on user consent are elaborated in Appendix B.\\n\\n### Data Preprocessing\\n\\nThe chatbot service\u2019s backend operates on a turn-based system, where each turn comprises both a user\u2019s request, which includes all historical conversation context, and the chatbot\u2019s response. Through our data collection efforts, we accumulated 2,583,489 turns. To link these turns, we...\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 3, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 2: Distribution over APIs used. The GPT-4 family accounts for about 24% of all conversations.\\n\\n| API                | Percentage |\\n|--------------------|------------|\\n| 4-1106-preview     | 12.70%     |\\n| 4-0314             | 7.10%      |\\n| 4-0125-preview     | 4.59%      |\\n| 3.5-turbo-0613     | 45.61%     |\\n| 3.5-turbo-0301     | 24.96%     |\\n| 3.5-turbo-0125     | 5.04%      |\\n\\nTable 3: Distribution over geographic locations of IP addresses of users.\\n\\n| Country     | Percentage |\\n|-------------|------------|\\n| US          | 21.60%     |\\n| Russia      | 15.55%     |\\n| China       | 10.02%     |\\n| Hong Kong   | 4.62%      |\\n| UK          | 3.79%      |\\n| Germany     | 3.58%      |\\n| France      | 3.42%      |\\n| Japan       | 1.94%      |\\n| Canada      | 1.89%      |\\n\\nTable 4: Distribution over user prompt categories based on the first turn in English conversations.\\n\\n| Category                      | Percentage |\\n|-------------------------------|------------|\\n| assisting                      | 61.9%      |\\n| creative writing              | 13.6%      |\\n| analysis                      | 6.7%       |\\n| decision                      | 6.3%       |\\n| explanation                   | 6.1%       |\\n\\nFigure 1: Number of conversations per model over time.\\n\\nturns into complete conversations, we matched turns based on historical conversation content, IP addresses, and request headers. We relaxed the IP matching constraints when necessary, as preliminary analyses indicated that some users' IP addresses change during conversations, likely due to internet connectivity changes. This linking process yielded 1,009,245 full conversations (2,539,614 turns).\\n\\nDespite explicit user consent for data release, we prioritized user privacy by anonymizing personally identifiable information (PII). We used Microsoft's Presidio as the framework, Spacy for Named Entity Recognition, and custom rules to identify and remove PII across various data types\u2014such as names, phone numbers, emails, credit cards, and URLs\u2014in multiple languages including English, Chinese, Russian, French, Spanish, German, Portuguese, Italian, Japanese, and Korean.\\n\\nLastly, we mapped IP addresses to countries and states using GeoLite2 and hashed them before release to further protect privacy. While we only release request headers containing browser information and accepted languages, and hashed IP addresses, this data could potentially enable researchers to link conversations from the same user (based on hashed IP addresses and request headers), though we do not provide direct linkage in our dataset.\\n\\nOur analyses also found that request headers rarely change since they are usually tied to the device.\\n\\nhttps://microsoft.github.io/presidio/\\n\\nhttps://spacy.io/\\n\\nhttps://dev.maxmind.com/geoip/geolite2-free-geolocation-data\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 4, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"In this section, we present basic statistics of WILDCHAT and compare it to other conversation datasets. We show that WILDCHAT features a wide range of languages, diverse user prompts, and showcases a rich variety of toxicity phenomena.\\n\\nBasic Statistics\\n\\nWILDCHAT comprises 1,009,245 full conversations contributed by 196,927 unique IP addresses. Approximately 24% of the conversations utilize the GPT-4-based API, while 76% employ the GPT-3.5-Turbo-based API, as detailed in Table 2. Figure 1 illustrates the number of conversations per model over each month, indicating a gradual decrease in the usage of GPT-3.5 family models over time. From January 2024 onwards, more conversations originated from the GPT-4-based API than from the GPT-3.5-based API.\\n\\nOn average, each conversation includes 2.52 user-chatbot interaction rounds (turns). Figure 2a presents the distribution of the number of conversation turns, showing that approximately 41% of conversations contain multiple turns. While most conversations have fewer than 10 turns, the distribution exhibits a long tail, with 3.7% of conversations extending beyond 10 turns.\\n\\nGeographically, the majority of data originates from users based in the United States, Russia, and China, as depicted in Table 3.\\n\\nRegarding prompt categories, we subsampled 1,000 conversations and applied a prompt task category classification tool to analyze task categories. The predominant categories include \\\"assisting or creative writing,\\\" \\\"analysis or decision explanation,\\\" and \\\"coding,\\\" as detailed in Table 4. Furthermore, we classified the language at the turn level using lingua-py. We considered languages that appear in more than 100 user prompts, identifying 68 languages. Figure 2b displays the distribution of the top 10 languages, with English being the most prevalent, accounting for 53% of the turns, followed by Chinese and Russian, which constitute 13% and 12% of the dataset, respectively.\\n\\nComparative Analysis\\n\\nTable 1 compares the basic statistics between WILDCHAT and five other conversation datasets: Alpaca (Taori et al., 2023), Open Assistant (K\u00f6pf et al., 2023), Dolly (Conover et al., 2023), ShareGPT, and LMSYS-Chat-1M (Zheng et al., 2024). Among these, WILDCHAT and LMSYS-Chat-1M both feature authentic user prompts derived from real user-chatbot interactions, setting them apart from datasets like Alpaca with model-generated prompts.\\n\\n8 GPT-4-based API experienced no traffic from Jul to Oct 2023 due to its suspension for budgetary reasons.\\n9 https://huggingface.co/valpy/prompt-classification developed by Valentina Pyatkin. This tool leverages GPT-4's classifications distilled into a DeBERTa model (He et al., 2021).\\n10 https://github.com/pemistahl/lingua-py\\n11 https://sharegpt.com/\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 5, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Table 5: Language breakdown at the turn level for different datasets.\\n\\n| Language      | Open Assistant | ShareGPT | LMSYS-Chat-1M | WildChat | Alpaca | Dolly |\\n|---------------|---------------|----------|---------------|----------|--------|-------|\\n| English (%)   | 56.02         | 92.35    | 78.00         | 52.94    | 8.42   | 3.66  |\\n| Chinese (%)   | 4.08          | 0.19     | 2.46          | 13.38    | 3.17   | 2.74  |\\n| Russian (%)   | 10.25         | 0.00     | 2.77          | 11.61    | 3.14   | 3.09  |\\n| Spanish (%)   | 17.56         | 0.31     | 2.38          | 2.66     | 3.8    | 7.1   |\\n| French (%)    | 3.28          | 1.92     | 1.52          | 3.42     | 5.23   | 5.91  |\\n| German (%)    | 3.87          | 0.32     | 1.54          | 1.30     | 7.61   | 5.18  |\\n| Other (%)     | 4.94          | 4.91     | 11.34         | 14.69    |        |       |\\n\\nTable 6: Toxicity percentage measured at the turn level for WildChat.\\n\\n| Dataset       | Detoxify | OpenAI Moderation | Either | Both |\\n|---------------|----------|-------------------|--------|------|\\n| User (%)      | 8.12     | 6.05              | 10.46  | 3.73 |\\n| Chatbot (%)   | 3.91     | 5.18              | 6.58   | 2.50 |\\n\\nDolly with expert-written prompts, and Open Assistant with crowdsourced prompts. Additionally, WildChat provides the longest user prompts and chatbot responses among the compared datasets.\\n\\nFigure 3: Data coverage evaluated by testing how well one dataset (y-axis) explains another (x-axis). The heatmap shows the average NLLs of fine-tuning Llama-2 7B on one dataset and evaluating NLLs on the other datasets, using 70% data for training and 30% for validation. We only used the user prompts in the first turn of each conversation.\\n\\nLanguage Diversity\\n\\nTable 5 displays the breakdown of languages across various datasets. While ShareGPT and LMSYS-Chat-1M feature multiple languages, non-English data only accounts for 7.65% and 22.00% of the turns in each dataset, respectively. In contrast, WildChat and Open Assistant exhibit a greater linguistic diversity with only 52.94% and 56.02% of their turns in English.\\n\\nData Coverage\\n\\nTo test the coverage of each dataset, we fine-tuned a Llama-2 7B model on each dataset and then used it to measure how likely other datasets are. If a dataset \u201ccovers\u201d another, then we expect the model trained on this dataset to be able to \u201cexplain\u201d data from the other dataset, resulting in a lower negative log-likelihood (NLL). The results are visualized as a heatmap in Figure 3. Notably, the model fine-tuned on WildChat achieved the lowest NLLs when testing on Open Assistant and ShareGPT, except for the models directly trained on those datasets. Its NLLs on Alpaca and Dolly also approached the best scores.\\n\\nIn addition, we analyzed user prompts in the embedding space to evaluate diversity. We embedded 10,000 first-turn user prompts from each dataset using OpenAI\u2019s embedding model (text-embedding-ada-002). We used t-SNE (Van der Maaten & Hinton, 2008) to visualize the embeddings from WildChat and each of the other datasets as pairs, as depicted in Figure 4. WildChat exhibits close to perfect overlap with other datasets but also covers additional areas, further confirming its diversity.\\n\\n4 TOXICITY ANALYSIS\\n\\nThis section analyzes unsafe interactions in WildChat. We detect unsafe content using two toxicity classification tools: the OpenAI Moderation API (https://platform.openai.com/docs/guides/moderation) and Detoxify (Hanu & Unitary team, 2020).\\n\\n12 We used an earlier version of WildChat collected from April 10 to September 22, 2023.\\n\\n13 https://platform.openai.com/docs/guides/moderation\\n\\n14 We used a threshold of 0.1 in Detoxify based on initial experiments.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 10, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"ACKNOWLEDGEMENTS\\n\\nThis project was supported by funding from the DARPA MCS program through NIWC Pacific (N66001-19-2-4031) and the DARPA SemaFor program. We would also like to thank Valentina Pyatkin for her valuable contributions to the category analysis and AI2\u2019s legal team for ensuring legal and ethical compliance in our data releases.\\n\\nREFERENCES\\n\\nAnthropic. Model card and evaluations for claude models, Jul 2023. URL https://www-cdn.anthropic.com/bd2a28d2535bfb0494cc8e2a3bf135d2e7523226/Model-CARD-Claude-2.pdf.\\n\\nYuntao Bai, Saurav Kadavath, Sandipan Kundu, Amanda Askell, Jackson Kernion, Andy Jones, Anna Chen, Anna Goldie, Azalia Mirhoseini, Cameron McKinnon, Carol Chen, Catherine Ols-son, Christopher Olah, Danny Hernandez, Dawn Drain, Deep Ganguli, Dustin Li, Eli Tran-son, Ethan Perez, Jamie Kerr, Jared Mueller, Jeffrey Ladish, Joshua Landau, Kamal Ndousse, Kamile Lukosuite, Liane Lovitt, Michael Sellitto, Nelson Elhage, Nicholas Schiefer, Noemi Mercado, Nova DasSarma, Robert Lasenby, Robin Larson, Sam Ringer, Scott Johnston, Shauna Kravec, Sheer El Showk, Stanislav Fort, Tamera Lanham, Timothy Telleen-Lawton, Tom Con-terly, Tom Henighan, Tristan Hume, Samuel R. Bowman, Zac Hatfield-Dodds, Ben Mann, Dario Amodei, Nicholas Joseph, Sam McCandlish, Tom Brown, and Jared Kaplan. Constitutional ai: Harmlessness from ai feedback, 2022.\\n\\nMike Conover, Matt Hayes, Ankit Mathur, Xiangrui Meng, Jianwei Xie, Jun Wan, Sam Shah, Ali Ghodsi, Patrick Wendell, Matei Zaharia, et al. Free dolly: Introducing the world\u2019s first truly open instruction-tuned llm, 2023.\\n\\nGoogle. Bard: A conversational ai tool by google, 2023. URL https://bard.google.com/. Accessed: Sep 27, 2023.\\n\\nLaura Hanu and Unitary team. Detoxify. Github. https://github.com/unitaryai/detoxify, 2020.\\n\\nPengcheng He, Xiaodong Liu, Jianfeng Gao, and Weizhu Chen. Deberta: Decoding-enhanced bert with disentangled attention, 2021.\\n\\nAndreas K\u00f6pf, Yannic Kilcher, Dimitri von R\u00fctte, Sotiris Anagnostidis, Zhi-Rui Tam, Keith Stevens, Abdullah Barhoum, Nguyen Minh Duc, Oliver Stanley, Rich\u00e1rd Nagyfi, et al. Openassistant conversations\u2013democratizing large language model alignment. arXiv preprint arXiv:2304.07327, 2023.\\n\\nMicrosoft. Introducing the new bing, 2023. URL https://www.bing.com/new. Accessed: Sep 27, 2023.\\n\\nOpenAI. Gpt-4 technical report. ArXiv, abs/2303.08774, 2023. URL https://api.semanticscholar.org/CorpusID:257532815.\\n\\nLong Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, John Schulman, Jacob Hilton, Fraser Kelton, Luke Miller, Maddie Simens, Amanda Askell, Peter Welinder, Paul F Christiano, Jan Leike, and Ryan Lowe. Training language models to follow instructions with human feedback. In S. Koyejo, S. Mohamed, A. Agarwal, D. Belgrave, K. Cho, and A. Oh (eds.), Advances in Neural Information Processing Systems, volume 35, pp. 27730\u201327744. Curran Associates, Inc., 2022. URL https://proceedings.neurips.cc/paper_files/paper/2022/file/b1efde53be364a73914f58805a001731-Paper-Conference.pdf.\\n\\nRafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D Manning, Stefano Ermon, and Chelsea Finn. Direct preference optimization: Your language model is secretly a reward model. In Thirty-seventh Conference on Neural Information Processing Systems, 2023. URL https://openreview.net/forum?id=HPuSIXJaa9.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 11, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":null}"}
{"id": "Bl8u7ZRlbM", "page_num": 12, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":null}"}
{"id": "Bl8u7ZRlbM", "page_num": 13, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"The app is hosted on Hugging Face Spaces. Figure 7 shows an example screenshot of the application interface. Users can type their inputs in the text field and click the \u201cRun\u201d button to generate the chatbot\u2019s response. The interface facilitates multi-turn conversations, allowing for a conversational flow that mimics natural human interactions.\\n\\nFigure 7: Example Screenshot of the App.\\n\\nThe interface is adapted from the code of Yuvraj Sharma\u2019s chatbot, which is itself implemented using the Gradio library. We have made several key modifications to the original implementation. First, we altered the code to properly handle special characters such as `\\\\n` for code outputs. Second, we ensured that the conversation history is consistently maintained over the entire conversation, unlike the default behavior of the Gradio Chatbot object, which replaces special characters with HTML symbols.\\n\\nTo ensure that we have the explicit consent of the users for collecting and using their data, we have implemented a two-step user agreement process.\"}"}
{"id": "Bl8u7ZRlbM", "page_num": 1, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"WILDCHAT: 1M CHATGPT INTERACTIONS IN THE WILD\\n\\nWARNING: THE APPENDIX OF THIS PAPER CONTAINS EXAMPLES OF USER INPUTS REGARDING POTENTIALLY UPSETTING TOPICS, INCLUDING VIOLENCE, SEX, ETC. READER DISCRETION IS ADVISED.\\n\\nWenting Zhao 1\u2217 Xiang Ren 2, 3 Jack Hessel 2 Claire Cardie 1 Yejin Choi 2, 4 Yuntian Deng 2\\n\\n1 Cornell University\\n2 Allen Institute for Artificial Intelligence\\n3 University of Southern California\\n4 University of Washington\\n\\n{wz346,cardie}@cs.cornell.edu, \\n{xiangr,jackh,yejinc,yuntiand}@allenai.org\\n\\n\u2217Equal Contribution\\n\\nABSTRACT\\nChatbots such as GPT-4 and ChatGPT are now serving millions of users. Despite their widespread use, there remains a lack of public datasets showcasing how these tools are used by a population of users in practice. To bridge this gap, we offered free access to ChatGPT for online users in exchange for their affirmative, consensual opt-in to anonymously collect their chat transcripts and request headers. From this, we compiled WILDCHAT, a corpus of 1 million user-ChatGPT conversations, which consists of over 2.5 million interaction turns. We compare WILDCHAT with other popular user-chatbot interaction datasets, and find that our dataset offers the most diverse user prompts, contains the largest number of languages, and presents the richest variety of potentially toxic use-cases for researchers to study. In addition to timestamped chat transcripts, we enrich the dataset with demographic data, including state, country, and hashed IP addresses, alongside request headers. This augmentation allows for more detailed analysis of user behaviors across different geographical regions and temporal dimensions. Finally, because it captures a broad range of use cases, we demonstrate the dataset's potential utility in fine-tuning instruction-following models. WILDCHAT is released at https://wildchat.allen.ai under AI2 ImpACT Licenses.\\n\\n1 INTRODUCTION\\nConversational agents powered by large language models (LLMs) have been used for a variety of applications ranging from customer service to personal assistants. Notable examples include OpenAI's ChatGPT and GPT-4 (OpenAI, 2023), Anthropic's Claude 2 and Claude 3 (Bai et al., 2022; Anthropic, 2023), Google's Bard (Google, 2023), and Microsoft's Bing Chat (Microsoft, 2023). Combined, these systems are estimated to serve over hundreds of millions of users (Vynck, 2023).\\n\\nThe development pipeline for conversational agents typically comprises three phases (Zhou et al., 2023; Touvron et al., 2023): (1) pre-training the LLM, (2) fine-tuning it on a dataset referred to as the \u201cinstruction-tuning\u201d dataset to align the model's behavior with human expectations, and (3) optionally applying Reinforcement Learning from Human Feedback (RLHF) to further optimize the model's responses based on human preferences (Stiennon et al., 2020; Ouyang et al., 2022; Ramamurthy et al., 2023; Wu et al., 2023; Rafailov et al., 2023). While the base model training data is readily available (Soldaini et al., 2024), the crucial instruction-tuning datasets are often proprietary, leading to a gap in accessibility for researchers who wish to advance the field.\\n\\nExisting user-chatbot interaction datasets are primarily of two types: natural use cases (Zheng et al., 2024) and expert-curated collections (Taori et al., 2023; Wang et al., 2022). However, with the\\n\\nhttps://allenai.org/impact-license\\n\\n1\"}"}

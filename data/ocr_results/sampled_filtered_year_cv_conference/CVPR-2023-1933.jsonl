{"id": "CVPR-2023-1933", "page_num": 1, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Semidefinite Relaxations for Robust Multiview Triangulation\\n\\nLinus H\u00e4r\u00e9nstam-Nielsen 1,2, Niclas Zeller 4, Daniel Cremers 1,2,3\\ntech. University of Munich, Munich Center for Machine Learning, University of Oxford, Karlsruhe University of Applied Sciences\\nlinus.nielsen@tum.de, niclas.zeller@h-ka.de, cremers@tum.de\\n\\nAbstract\\nWe propose an approach based on convex relaxations for certifiably optimal robust multiview triangulation. To this end, we extend existing relaxation approaches to non-robust multiview triangulation by incorporating a least squares cost function. We propose two formulations, one based on epipolar constraints and one based on fractional reprojection constraints. The first is lower dimensional and remains tight under moderate noise and outlier levels, while the second is higher dimensional and therefore slower but remains tight even under extreme noise and outlier levels. We demonstrate through extensive experiments that the proposed approaches allow us to compute provably optimal reconstructions even under significant noise and a large percentage of outliers.\\n\\n1. Introduction\\nMultiview triangulation is the problem of estimating the location of a point in 3D given two or more 2D observations in images taken from cameras with known poses and intrinsics. The 2D observations are typically estimated by some form of feature matching pipeline, so they are always corrupted by noise and outliers. As a result the 3D point cannot be exactly recovered, and instead the solution has to be phrased as a nonconvex optimization problem.\\n\\nWhile solutions are typically computed using faster but sub-optimal local optimization methods, there have also been efforts to compute globally optimal triangulations using semidefinite relaxations [1,4,13]. These relaxations can work well even in high-noise scenarios, but their practical use remains limited as they are not robust and even a single outlier can deteriorate the result significantly. In this work, inspired by recent advances in semidefinite relaxations for outlier-robust perception [28], we will show that [1, 4] can be extended to also handle significant amounts of outliers.\\n\\nImplementation: github.com/linusnie/robust-triangulation-relaxations\\n\\nFigure 1. Example of a triangulated point from the Reichstag dataset. Blue point: ground truth from [12]. Red point: non-robust global optimum found by the relaxation from [1] (see Eq. (T)). Green point: robust global optimum found by our proposed relaxation in Eq. (RT).\\n\\nSemidefinite relaxations have the advantage of being globally solvable in polynomial time, meaning that they can be used to enable practical certifiably optimal algorithms. After solving the relaxed problem we either have that 1) the relaxation is tight and we provably recover the global optimum of the original problem, or 2) the relaxation is provably not tight and we can report failure to find the global optimum. The key metric for the usefulness of a certifiably optimal algorithm is then the percentage of problem cases where the underlying relaxation is tight.\\n\\nDespite their often slower runtime, certifiably optimal methods offer several advantages: Firstly, in safety-critical systems it may be required or desirable to complement the computed solution with some guarantee that the solver is not stuck in a local optima. Secondly, in many offline applications runtime is actually not as critical and then one may want to trade off better accuracy for extra runtime. Thirdly, globally optimal solutions of real-world problems can serve\"}"}
{"id": "CVPR-2023-1933", "page_num": 2, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"as ground truth for assessing the performance of local optimization methods.\\n\\nIn this work, we demonstrate a certifiably optimal approach to robust triangulation by developing two convex relaxations for the truncated least squares cost function. Enabling the combination of robustness with the capacity to compute certifiably optimal solutions. Our main contributions can be summarized as follows:\\n\\n\u2022 We extend the convex triangulation methods from [1] and [4] with a truncated least squares cost function and propose two corresponding convex relaxations.\\n\\n\u2022 We validate empirically that both relaxations remain tight even under large amounts of noise and high outlier ratios.\\n\\n\u2022 We show that the relaxations are tight in the noise-free and outlier-free case by explicitly constructing the dual solution.\\n\\nTo the best of our knowledge, this is the first example of a successful semidefinite relaxation of a robust estimation problem with reprojection errors.\\n\\n2. Related work\\n\\nTriangulation is a core subroutine for structure from motion and therefore has been studied extensively. For two views, there are many globally optimal solution variants, including computing the roots of a degree 6 polynomial [9] for the reprojection error or a $3 \\\\times 3$ singular value decomposition for the angular error (up to a second order approximation) [16]. Outlier-free multiview triangulation is arguably most commonly solved based on the linear-eigen method from [9]. Robust triangulation is typically tackled using RANSAC [14, 17, 21] where a 2-view solver is repeatedly applied to randomly sampled pairs of views until an inlier set can be established.\\n\\nSemidefinite relaxations have been used to obtain certifiably optimal algorithms for many problems in geometric computer vision. Examples include semidefinite relaxations for partitioning, grouping and restoration [15], for minimizing reprojection errors [13], for multiview triangulation [1, 4], for essential matrix estimation [30], for hand-eye calibration [7, 24, 25], for robust point cloud registration [26, 28, 29], and for 3D shape from 2D landmarks [27]. Notably [28], which is one of the main inspirations for this work, demonstrates that semidefinite relaxations can also be used for outlier-robust estimation. In particular, they provide relaxations for various outliers models in the context of robust rotation averaging, mesh registration, absolute pose registration and category-level object pose+shape estimation.\\n\\nSolving semidefinite relaxations is typically slow and memory intensive, stemming from the fact that the number of variables is the square of the number of variables in the original problem. To tackle this issue, there has been recent interest in developing solvers that can scale to larger problems. Including [6] which uses a reformulation in terms of eigenvalue optimization based on [10] which can take advantage of GPUs, and [28] which uses efficient non-global solvers for speeding up the convergence of the global solver. Notably, in both cases the main memory saving comes from applying a dual-only solver.\\n\\nIn a limited number of cases, semidefinite relaxations can be shown to always find a globally optimal solution to the original problem. This includes the dual quaternion formulation of hand-eye calibration [7] and 2-view triangulation using epipolar constraints [1], in both cases with some assumption of non-degenerate measurements. Another example is the rotation alignment problem which has a closed form solution in terms of an eigenvalue decomposition (quaternion formulation) or singular value decomposition (rotation matrix formulation).\\n\\nHowever, outlier-robust estimation is inapproximable in general [2], meaning there will always be some subset of possible measurements for which any semidefinite relaxation of practical size is non-tight. In terms of theoretical guarantees, [5] introduces the concept of local stability which, under certain conditions on the problem structure for noise-free measurements, can guarantee that a relaxation remains tight for bounded measurement noise. In some cases it is also possible to find conditions on measurements which guarantee that the relaxation is tight or non-tight, as demonstrated in [20] for robust rotation alignment of point clouds, but typically algorithm developers will have to rely on experiments in order to determine to what extent a given relaxation remains tight in a particular problem scenario.\\n\\n3. Notation and preliminaries\\n\\nFor $t, s \\\\in \\\\mathbb{R}^3$ we write $[t] \\\\times$ for the $3 \\\\times 3$ skew-symmetric matrix such that $t \\\\times s = [t] \\\\times s$. $(a; b)$ denotes the vertical concatenation of vectors $a$ and $b$ and for a collection of vectors $a_1, \\\\ldots, a_n$ the subscript-free version denotes the corresponding stacked vector $a = (a_1; \\\\ldots; a_n)$. We use a bar to denote the homogeneous version of a vector, that is $\\\\bar{a} := (a; 1)$. When dimensionality is understood we define $e_i$ to be the $i$th unit vector and $E_i = e_i e_i^T$. For a vector of monomials $m = (m_1; \\\\ldots; m_d)$ we define $e_{m_i}$ as the unit vector whose only non-zero entry corresponds to the index of $m_i$ in $m$, meaning $e_{m_i} \\\\in \\\\mathbb{R}^d$. For a vector $x \\\\in \\\\mathbb{R}^k$ we define:\\n\\n$$M_x := I - x - x^T \\\\|x\\\\|_2$$\\n\\nsuch that for $y \\\\in \\\\mathbb{R}^k$ we have $\\\\bar{y}^T M_x \\\\bar{y} = \\\\|x - y\\\\|_2$.\\n\\nThe operator $\\\\otimes$ denotes the Kronecker product, and $\\\\oplus$ denotes\"}"}
{"id": "CVPR-2023-1933", "page_num": 3, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"the tensor sum. For example, for $2 \\\\times 2$ matrices $A$ and $B$:\\n\\n$$A \\\\oplus B = A_{00} B_{00}, \\\\quad A \\\\otimes B = a_{11} B a_{12} B a_{21} B a_{22} B.$$\\n\\n(2)\\n\\n3.1. Semidefinite relaxations\\n\\nAs a general strategy, we aim to solve the triangulation problem by relaxing a Quadratically Constrained Quadratic Program (QCQP) which has the following form:\\n\\n$$\\\\min_{z \\\\in \\\\mathbb{R}^d} z^T M z$$\\n\\ns.t. $z^T E z = 1$, $z^T A_i z = 0$, $i = 1, \\\\ldots, k$, $z^T B_j z \\\\leq 0$, $j = 1, \\\\ldots, l$.\\n\\n(3)\\n\\nThis is a very general formulation with applications in computer vision but it is NP-hard to solve in most cases, so an imperfect method is typically necessary. One such strategy is to lift the problem from $\\\\mathbb{R}^d$ to the set of $d \\\\times d$ positive semidefinite matrices, $S_d$, by introducing a new variable $Z = zz^T$ and using the fact that $z^T M z = \\\\text{tr}(M zz^T)$ to arrive at:\\n\\n$$\\\\min_{Z \\\\in S_d} \\\\text{tr}(M Z)$$\\n\\ns.t. $\\\\text{tr}(E Z) = 1$, $\\\\text{tr}(A_i Z) = 0$, $i = 1, \\\\ldots, k$, $\\\\text{tr}(B_j Z) \\\\leq 0$, $j = 1, \\\\ldots, l$, $Z \\\\succeq 0$.\\n\\n(4)\\n\\nEq. (4) is a relaxation of Eq. (3) since if $z$ satisfies the constraints of Eq. (3) we always have that $Z = zz^T$ satisfies the constraints of Eq. (4) with the same objective value. However, the converse is not always true. In particular, if $\\\\hat{Z}$ is optimal for Eq. (4) we can obtain a corresponding solution $\\\\hat{z}$ for Eq. (3) with the same objective value if and only if $\\\\hat{Z}$ is rank one. In this case we have $\\\\hat{Z} = \\\\hat{z} \\\\hat{z}^T$ and we then say that the relaxation is tight.\\n\\nThe main advantage of working with the relaxation Eq. (4) as opposed to the original problem Eq. (3) is that the relaxation is a convex optimization problem, in particular it is a semidefinite program, for which a variety of polynomial-time solvers are available, including [3, 18]. If the relaxation is not tight we can at best expect an optimal $\\\\hat{Z}$ to generate an approximation of the optimal $\\\\hat{z}$. Therefore, a key metric to consider when applying a relaxation is the percentage of encountered problem cases in which it remains tight.\\n\\n4. Relaxations for multiview triangulation\\n\\nGiven $n$ views of a point $X$ from cameras located at $P_i = (R_i, t_i) \\\\in \\\\text{SE}(3)$ in camera-to-world convention with intrinsic matrices $K_i \\\\in \\\\mathbb{R}^{3 \\\\times 3}$, and with, possibly noisy, observations denoted as $\\\\tilde{x}_i \\\\in \\\\mathbb{R}^2$, the $n$-view triangulation problem with reprojection error is defined as:\\n\\n$$\\\\min_{X \\\\in \\\\mathbb{R}^3} n \\\\sum_{i=1}^n \\\\| \\\\tilde{x}_i - \\\\pi(K_i, P_i, X) \\\\|^2_2$$\\n\\n(5)\\n\\nwhere $\\\\pi(K_i, P_i, X)$ is the reprojection of the point $X \\\\in \\\\mathbb{R}^3$ to camera $i$. This is a nonconvex problem but it is not yet in QCQP form since $\\\\pi(K_i, P_i, X)$ is not quadratic in $X$.\\n\\nIn this section we will recap two ways of converting Eq. (5) to a QCQP, from which we can generate the corresponding semidefinite relaxations.\\n\\n4.1. Triangulation with epipolar constraints\\n\\nThe first approach was introduced in [1]. They showed that Eq. (5) can be formulated as a polynomial optimization problem of degree 2 by reparametrizing $X$ in terms of it's $n$ reprojections $x_i$, which are constrained to satisfy the epipolar constraints:\\n\\n$$\\\\min_{x_i \\\\in \\\\mathbb{R}^2} n \\\\sum_{i=1}^n \\\\| x_i - \\\\tilde{x}_i \\\\|^2_2$$\\n\\ns.t. $\\\\bar{x}_i^T F_{ij} \\\\bar{x}_j = 0$, $i, j = 1, \\\\ldots, n$, $i \\\\neq j$.\\n\\n(6)\\n\\nwhere $F_{ij} = K_i - T_i [t_{ij}] \\\\times R_{ij} K_j^{-1}$ is the fundamental matrix corresponding to the relative transformation between poses $i$ and $j$. Since the estimated reprojections $x_i$ all satisfy the epipolar constraints, the solution of Eq. (5) can in most cases be recovered exactly from Eq. (6) using the linear-eigen method from [9]. An important failure case of this parametrization is that when the camera centers are co-planar it is possible that the solution $x_i$ of Eq. (6) does not correspond to a valid 3D point, see Appendix A for more details and an example.\\n\\nUsing the parametrization $z = (x; 1) = \\\\bar{x}$ the semidefinite relaxation of Eq. (6) is:\\n\\n$$\\\\min_{Z \\\\in S_{d+1}} \\\\text{tr}(M \\\\tilde{x} Z)$$\\n\\ns.t. $\\\\text{tr}(E_{d+1} Z) = 1$, $\\\\text{tr}(\\\\bar{F}_{ij} Z) = 0$, $i = 1, \\\\ldots, k$, $Z \\\\succeq 0$.\\n\\n(T)\\n\\nwhere $\\\\bar{F}_{ij} \\\\in S_{d+1}$ is defined such that $\\\\bar{x}_i^T \\\\bar{F}_{ij} \\\\bar{x}_j = \\\\bar{x}_i^T i F_{ij} \\\\bar{x}_j$. It was shown in both [1] and [5] that the relaxation Eq. (T) is locally stable with respect to noise as long as the views are not co-planar.\\n\\n4.2. Triangulation with fraction constraints\\n\\nAs initially proposed in [4], an alternative to Eq. (6) is to explicitly parametrize the 3D point $X$ in homogeneous coordinates.\"}"}
{"id": "CVPR-2023-1933", "page_num": 4, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Figure 2. Examples of simulated triangulation problems from Sec. 6.1 with $\\\\sigma = 50$ px for various number of views and outliers. Blue point: ground truth, Red point: non-robust global optimum found by the relaxation from [4] (see Eq. (TF)). Green point: robust global optimum found by our proposed relaxation in Eq. (RTF). With no outliers the robust and non-robust methods give the same result.\\n\\nThis leads to the fractional constraints\\n\\n$$x_{ki} = a_{Tik}^{\\\\bar{X}} / b_{Ti}^{\\\\bar{X}},$$\\n\\nwhere $a_{i1}$, $a_{i2}$ and $b_{i}$ are given by the rows of the $i$-th camera projection matrix $K_i R T_i - R T_i t_i$.\\n\\nBy multiplying out the right hand side denominators we get the following QCQP:\\n\\n$$\\\\min_{\\\\bar{X} \\\\in \\\\mathbb{R}^4, x_i \\\\in \\\\mathbb{R}^2} \\\\sum_{i=1}^{n} \\\\|x_i - \\\\bar{x}_i\\\\|_2^2$$\\n\\ns.t.\\n\\n$$\\\\bar{X}^T \\\\bar{X} = 1$$\\n\\n$$x_{ki} b_{Ti}^{\\\\bar{X}} - a_{Tik}^{\\\\bar{X}} = 0$$\\n\\n$$i = 1, \\\\ldots, n k = 1, 2.$$  \\\\hfill (7)\\n\\nA naive approach to relaxing Eq. (7) would be to use the parametrization $z = (x; \\\\bar{X})$, but as shown in [4] this leads to a relaxation whose optimal value is always zero. To circumvent this issue, [4] instead proposes parametrizing the problem in terms of all possible products between the elements of $x$ and $X$, i.e. $x \\\\otimes X$. They also show through experiments that, while the resulting relaxation has more parameters and constraints than Eq. (7), it is also tight in a significantly wider range of cases, leading to a tradeoff between stability and computation time.\\n\\nWe will use a similar relaxation, though we will skip the initial change of variables to get a slightly different but equivalent formulation which can be extended to the robust case more conveniently. We start by setting $z = (x \\\\otimes \\\\bar{X}; \\\\bar{X}) = \\\\bar{x} \\\\otimes \\\\bar{X}$ and then we multiply each reprojection constraint in Eq. (7) with $z_j$ to get\\n\\n$$\\\\sum_{i=1}^{n} \\\\left( x_{ki} b_{Ti}^{\\\\bar{X}} - a_{Tik}^{\\\\bar{X}} \\\\right) z_j = 0$$\\n\\n$$i = 1, \\\\ldots, n k = 1, 2.$$  \\\\hfill (8)\\n\\nwhere we have made use of the unit vector notation from Sec. 3, meaning in particular $e_{\\\\bar{x} x_{ki}} = e_{2i+k}$ and $e_{\\\\bar{x} 1} = e_{2n+1}$.\\n\\nWe also need to introduce constraints to preserve the fact that $z$ comes from a $(2n+1) \\\\times 4$ Kronecker product. When $Z = zz^T$ is rank one, it turns out that this condition is equivalent to $Z$ being composed of $2n+1$ symmetric $4 \\\\times 4$ blocks, see [4] for more details. We will denote this constraint as $Z \\\\in \\\\mathbb{B}^{(2n+1), 4}$. The relaxation of can then\"}"}
{"id": "CVPR-2023-1933", "page_num": 9, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Diego Cifuentes. A convex relaxation to compute the nearest structured rank deficient matrix. *SIAM Journal on Matrix Analysis and Applications*, 42(2):708\u2013729, 2021.\\n\\nDiego Cifuentes, Sameer Agarwal, Pablo A Parrilo, and Rekha R Thomas. On the local stability of semidefinite relaxations. *Mathematical Programming*, 193(2):629\u2013663, 2022.\\n\\nSumanth Dathathri, Krishnamurthy Dvijotham, Alexey Kurakin, Aditi Raghunathan, Jonathan Uesato, Rudy R Bunel, Shreya Shankar, Jacob Steinhardt, Ian Goodfellow, Percy S Liang, et al. Enabling certification of verification-agnostic networks via memory-efficient semidefinite programming. *Advances in Neural Information Processing Systems*, 33:5318\u20135331, 2020.\\n\\nAmit Dekel, Linus Harenstam-Nielsen, and Sergio Cac-camo. Optimal least-squares solution to the hand-eye calibration problem. In *Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)*, June 2020.\\n\\nSteven Diamond and Stephen Boyd. CVXPY: A Python-embedded modeling language for convex optimization. *Journal of Machine Learning Research*, 17(83):1\u20135, 2016.\\n\\nRichard I. Hartley and Peter Sturm. Triangulation. *Computer Vision and Image Understanding*, 68(2):146\u2013157, 1997.\\n\\nChristoph Helmberg and Franz Rendl. A spectral bundle method for semidefinite programming. *SIAM Journal on Optimization*, 10(3):673\u2013696, 2000.\\n\\nAnders Heyden and Kalle \u02daAstr\u00a8om. Algebraic properties of multilinear constraints. *Mathematical Methods in the Applied Sciences*, 20(13):1135\u20131162, 1997.\\n\\nYuhe Jin, Dmytro Mishkin, Anastasiia Mishchuk, Jiri Matas, Pascal Fua, Kwang Moo Yi, and Eduard Trulls. Image Matching across Wide Baselines: From Paper to Practice. *International Journal of Computer Vision*, 2020.\\n\\nFredrik Kahl and Didier Henrion. Globally optimal estimates for geometric reconstruction problems. *International Journal of Computer Vision*, 74(1):3\u201315, 2007.\\n\\nLai Kang, Lingda Wu, and Yee-Hong Yang. Robust multi-view L\u00b2 triangulation via optimal inlier selection and 3D structure refinement. *Pattern Recognition*, 47(9):2974\u20132992, September 2014.\\n\\nJens Keuchel, Christoph Schnorr, Christian Schellewald, and Daniel Cremers. Binary partitioning, perceptual grouping, and restoration with semidefinite programming. *IEEE Transactions on Pattern Analysis and Machine Intelligence*, 25(11):1364\u20131379, 2003.\\n\\nSeong Hun Lee and Javier Civera. Closed-form optimal two-view triangulation based on angular errors. *CoRR*, abs/2008.01258, 2020.\\n\\nBrendan O'Donoghue, Eric Chu, Neal Parikh, and Stephen Boyd. Conic optimization via operator splitting and homogeneous self-dual embedding. *Journal of Optimization Theory and Applications*, 169(3):1042\u20131068, June 2016.\\n\\nCarl Olsson, Fredrik Kahl, and Richard Hartley. Projective least-squares: Global solutions with local optimization. In *2009 IEEE Conference on Computer Vision and Pattern Recognition*, pages 1216\u20131223, 2009.\\n\\nLiangzu Peng, Mahyar Fazlyab, and Ren \u00b4e Vidal. Semidefinite relaxations of truncated least-squares in robust rotation search: Tight or not. In *European Conference on Computer Vision*, pages 673\u2013691. Springer, 2022.\\n\\nJohannes Lutz Sch \u00a8onberger and Jan-Michael Frahm. Structure-from-motion revisited. In *Conference on Computer Vision and Pattern Recognition (CVPR)*, 2016.\\n\\nP.H.S. Torr and A. Zisserman. Mlesac: A new robust estimator with application to estimating image geometry. *Computer Vision and Image Understanding*, 78(1):138\u2013156, 2000.\\n\\nC. F. Van Loan and N. Pitsianis. *Approximation with Kronecker Products*, pages 293\u2013314. Springer Netherlands, Dordrecht, 1993.\\n\\nEmmett Wise, Matthew Giamou, Soroush Khoubyarian, Abhinav Grover, and Jonathan Kelly. Certifiably optimal monocular hand-eye calibration. In *2020 IEEE International Conference on Multisensor Fusion and Integration for Intelligent Systems (MFI)*, pages 271\u2013278. IEEE, 2020.\\n\\nThomas Wodtko, Markus Horn, Michael Buchholz, and Klaus Dietmayer. Globally optimal multi-scale monocular hand-eye calibration using dual quaternions. In *2021 International Conference on 3D Vision (3DV)*, pages 249\u2013257. IEEE, 2021.\\n\\nHeng Yang and Luca Carlone. A quaternion-based certifiably optimal solution to the wahba problem with outliers. In *Proceedings of the IEEE/CVF International Conference on Computer Vision (ICCV)*, October 2019.\\n\\nHeng Yang and Luca Carlone. In perfect shape: Certifiably optimal 3d shape reconstruction from 2d landmarks. In *Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)*, June 2020.\\n\\nHeng Yang and Luca Carlone. Certifiably optimal outlier-robust geometric perception: Semidefinite relaxations and scalable global optimization. *IEEE Transactions on Pattern Analysis and Machine Intelligence*, 2022.\\n\\nHeng Yang, Jingnan Shi, and Luca Carlone. Teaser: Fast and certifiable point cloud registration. *IEEE Transactions on Robotics*, 37(2):314\u2013333, 2020.\\n\\nJi Zhao. An efficient solution to non-minimal case essential matrix estimation. *IEEE Transactions on Pattern Analysis and Machine Intelligence*, 2020.\"}"}
{"id": "CVPR-2023-1933", "page_num": 5, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"min \\\\[ Z \\\\in S_{\\\\text{Sym}}(2n+1,4) \\\\]\\n\\\\[\\n\\\\text{s.t.} \\\\quad \\\\text{tr} \\\\left( Z \\\\left( \\\\bar{X} \\\\otimes I_4 \\\\right) \\\\right) = 1\\n\\\\]\\n\\\\[\\n\\\\text{tr} \\\\left( Z \\\\left( e_{\\\\bar{X}} x_k x_i \\\\otimes b_i - e_{\\\\bar{X}} a_{ik} e^T j \\\\right) \\\\right) = 0\\n\\\\]\\n\\\\[\\ni = 1, \\\\ldots, n, \\\\quad k = 1, 2\\n\\\\]\\n\\\\[\\nj = 1, \\\\ldots, 8n+4.\\n\\\\]\\n\\n5. The robust case\\n\\nNow that we have introduced the two main relaxations of Eq. (5) we move to the main contribution of this paper, which is to introduce the corresponding truncated least squares (TLS) extensions. Similarly to [28] we will use the fact that the TLS cost function can be written as a minimization problem by introducing a binary decision variable for each residual\\n\\n\\\\[\\n\\\\rho_i(r_i^2) = \\\\min(r_i^2, c_i) = \\\\min_{\\\\theta_i \\\\in \\\\{0, 1\\\\}} \\\\theta_i r_i^2 + (1 - \\\\theta_i) c_i\\n\\\\]\\n\\nwhere \\\\( c_i > 0 \\\\) is the square of the inlier threshold. In Appendix B we show that both relaxations are tight in the noise-free and outlier-free case, and we also show part of the criteria required for local stability.\\n\\n5.1. Robust triangulation with epipolar constraints\\n\\nUsing Eq. (9), the TLS extension of Eq. (6) is:\\n\\n\\\\[\\n\\\\min_{x_i \\\\in \\\\mathbb{R}^2, \\\\theta_i \\\\in \\\\mathbb{R}^n} \\\\sum_{i=1}^n \\\\theta_i \\\\| x_i - \\\\tilde{x}_i \\\\|^2 + (1 - \\\\theta_i) c_i\\n\\\\]\\n\\n\\\\[\\n\\\\text{s.t.} \\\\quad \\\\bar{x}_i^T F_{ij} \\\\bar{x}_j = 0\\n\\\\]\\n\\n\\\\[\\n\\\\theta_i^2 - \\\\theta_i = 0\\n\\\\]\\n\\n\\\\[\\nP \\\\sum_{i=1}^n \\\\theta_i^2 \\\\geq 2\\n\\\\]\\n\\n\\\\[\\ni, j = 1, \\\\ldots, n \\\\quad i \\\\neq j.\\n\\\\]\\n\\nwhere the constraints \\\\( \\\\theta_i^2 - \\\\theta_i = 0 \\\\) ensures \\\\( \\\\theta_i \\\\) equals 0 or 1, and the constraint \\\\( \\\\sum_{i=1}^n \\\\theta_i^2 \\\\geq 2 \\\\) ensures there are at least two inliers in the final solution. This cost function includes terms like \\\\( \\\\theta_i \\\\| x_i \\\\|^2 \\\\), which means it is a 3rd degree polynomial, so we can't apply the relaxation as described in Sec. 3.1 directly. But we can obtain a 2nd order formulation by noting that \\\\( \\\\theta_i^2 = \\\\theta_i \\\\) implies \\\\( \\\\theta_i \\\\| x_i - \\\\tilde{x}_i \\\\|^2 = \\\\| \\\\theta_i x_i - \\\\theta_i \\\\tilde{x}_i \\\\|^2 \\\\) and making the substitution \\\\( y_i = \\\\theta_i x_i \\\\):\\n\\n\\\\[\\n\\\\min_{y_i \\\\in \\\\mathbb{R}^2, \\\\theta_i \\\\in \\\\mathbb{R}^n} \\\\sum_{i=1}^n \\\\| y_i - \\\\theta_i \\\\tilde{x}_i \\\\|^2 + (1 - \\\\theta_i) c_i\\n\\\\]\\n\\n\\\\[\\n\\\\text{s.t.} \\\\quad \\\\bar{y}_i^T F_{ij} \\\\bar{y}_j = 0\\n\\\\]\\n\\n\\\\[\\n\\\\theta_i^2 - \\\\theta_i = 0\\n\\\\]\\n\\n\\\\[\\nP \\\\sum_{i=1}^n \\\\theta_i^2 \\\\geq 2\\n\\\\]\\n\\n\\\\[\\ni, j = 1, \\\\ldots, n, i \\\\neq j.\\n\\\\]\\n\\nThe last set of constraints \\\\( \\\\theta_i^2 - \\\\theta_i = 0 \\\\) are redundant but we find that they are necessary for the relaxation to remain tight in the presence of noise, these are referred to as moment constraints in [28]. We can recover a solution of Eq. (10) from a solution of Eq. (11) by triangulating the estimated inliers (i.e., \\\\( y_i \\\\) for which \\\\( \\\\theta_i = 1 \\\\)) and setting each \\\\( x_i \\\\) (including outliers) to be the reprojection of the resulting point onto view \\\\( i \\\\).\\n\\nUsing the parametrization \\\\( z_i = (y_i; \\\\theta_i; 1) \\\\) the semidefinite relaxation of Eq. (11) is:\\n\\n\\\\[\\n\\\\min_{Z \\\\in S_{\\\\text{Sym}}(n+1)} \\\\text{tr} \\\\left( M_c \\\\tilde{x} Z \\\\right)\\n\\\\]\\n\\n\\\\[\\n\\\\text{s.t.} \\\\quad \\\\text{tr} \\\\left( \\\\bar{F}_{ij} Z \\\\right) = 0\\n\\\\]\\n\\n\\\\[\\n\\\\theta_i^2 - \\\\theta_i = 0\\n\\\\]\\n\\n\\\\[\\nP \\\\sum_{i=1}^n \\\\theta_i^2 \\\\geq 2\\n\\\\]\\n\\n\\\\[\\ni, j = 1, \\\\ldots, n, i \\\\neq j.\\n\\\\]\\n\\nwhere \\\\( M_c \\\\tilde{x} \\\\) is the robust extension of \\\\( M \\\\tilde{x} \\\\), defined as:\\n\\n\\\\[\\nM_c \\\\tilde{x} = \\\\begin{pmatrix}\\nI - B(\\\\tilde{x}) & 0 \\\\\\\\\\n-B(\\\\tilde{x})^T & \\\\text{diag}(\\\\|\\\\tilde{x}\\\\|^2) - c_0 - c^T P \\\\sum_{i=1}^{n} c_i\\n\\\\end{pmatrix}\\n\\\\]\\n\\n\\\\[\\nB(\\\\tilde{x}) = \\\\begin{pmatrix}\\n\\\\tilde{x}_1 & 0 & \\\\cdots & 0 \\\\\\\\\\n0 & \\\\tilde{x}_2 & \\\\cdots & 0 \\\\\\\\\\n\\\\vdots & \\\\vdots & \\\\ddots & \\\\vdots \\\\\\\\\\n0 & 0 & \\\\cdots & \\\\tilde{x}_n\\n\\\\end{pmatrix}\\n\\\\]\\n\\nIn Appendix B.1 we analyze the dual of Eq. (RT) to show that the relaxation is tight in the noise-free and outlier-free case.\\n\\n5.2. Robust triangulation with fraction constraints\\n\\nIn this section we will introduce a higher order relaxation which can handle higher noise and outlier levels. Since the fractional constraints in Eq. (TF) are more stable with respect to noise than the epipolar constraints in Eq. (T), we might also expect that extending Eq. (TF) to handle outliers will result in a relaxation which is more stable than Eq. (RT). In this section we will show how the robust extension can be formulated, and as we will see in Sec. 6 it is indeed significantly more stable with respect to both noise and outliers.\\n\\nIn order to extend Eq. (TF) to handle outliers we will proceed in a similar manner as in the case with epipolar constraints. Starting by writing the cost function in terms of...\"}"}
{"id": "CVPR-2023-1933", "page_num": 6, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"\\\\[\\n\\\\begin{align*}\\n\\\\text{Table 1. Summary of relaxations for the triangulation problem and its robust extension.}\\n\\\\\\\\\\n\\\\text{Problem Relaxation Robust Constraints Variables}\\n\\\\\\\\\\n\\\\text{Eq. (6) Eq. (T) \u2713}\\n\\\\\\\\\\n\\\\text{Eq. (7) Eq. (TF) \u2713}\\n\\\\\\\\\\n\\\\text{Eq. (11) Eq. (RT) \u2713}\\n\\\\\\\\\\n\\\\text{Eq. (13) Eq. (RTF) \u2713}\\n\\\\\\\\\\n\\\\end{align*}\\n\\\\]\"}"}
{"id": "CVPR-2023-1933", "page_num": 7, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Figure 3. Average number of tight relaxation (top) and estimation error (bottom) for 3, 5 and 7 views for the robust epipolar relaxation Eq. (RT) and the robust fractional relaxation Eq. (RTF) for experiments described in Sec. 6.1. Note that the error plot is divided by tight/non-tight relaxation since both methods give the same result whenever the relaxation is tight.\\n\\nFigure 4. Average number of tight relaxation (top) and estimation error (bottom) for 25 and 30 views using Eq. (RT).\\n\\nFigure 5. Average computation time for each solver, averaged over all noise levels and number of outliers.\\n\\nFrom Fig. 3 we can see that in general the fractional relaxation in Eq. (13) is significantly more stable than the epipolar relaxation Eq. (RT). In fact, across all experiments the fractional relaxation is tight in 99.92% of cases. However, we can also note that the epipolar relaxation remains viable for lower noise levels, for instance in the case with $n = 7$ views and 3 outliers the relaxation is tight in more than 90% of cases when the noise is below $\\\\sigma \\\\approx 40$ px, after which the percentage of tight relaxations drop drastically.\\n\\nAs can be seen from the average solver timings in Fig. 5 the fractional relaxations is also over one order of magnitude slower than the epipolar relaxation, meaning that it is preferable to use Eq. (RT) in cases where the quality of observations is known to be high, and fall back to Eq. (RTF) only if the epipolar relaxation is non-tight and spending extra time on reducing the error is desirable.\\n\\n6.2. Reichstag dataset\\n\\nWe also validate our relaxations on the Reichstag dataset from [12]. The dataset consists of 75 views of roughly 18k 3D points. We use the ground truth correspondences estimated by structure from motion as detailed in [12] and generate each triangulation problem by selecting $n$ views which all observe a common point. We then add up to $n - 2$ outliers by replacing the ground truth observations with a randomly selected keypoints in the same image. See Fig. 1 for an example point with $n = 22$ views and 19 outliers.\\n\\nFor $n = 3$, 5 and 7 views we run Eq. (RT) 375 times and Eq. (RTF) 60 times for each possible number of outliers with $c_i = 10^2$. And similarly we run Eq. (RT) 120 times for $n = 25$ and 30 views. The results are summarized in Fig. 6. Similarly to the simulated experiments we can note that the percentage of tight relaxations decreases steadily as more outliers are added, with a sharp drop when the number of inliers gets close to 2, with the fractional method outperforming the epipolar method.\"}"}
{"id": "CVPR-2023-1933", "page_num": 8, "content": "{\"primary_language\":\"en\",\"is_rotation_valid\":true,\"rotation_correction\":0,\"is_table\":false,\"is_diagram\":false,\"natural_text\":\"Figure 6. Average number of tight relaxation for Eq. (RT) and Eq. (RTF) (top) and estimation error for tight and non-tight relaxations (bottom) on the Reichstag dataset. See Sec. 6.2 for details.\\n\\nFigure 7. Color indicates the percentage of experiment trials where our robust relaxation (Eq. (RT) for 3, 5 and 7 views and Eq. (RTF) for 25 and 30 views) found a lower cost solution than RANSAC. Details in Sec. 6.3.\\n\\n6.3. RANSAC comparison\\n\\nIn many scenarios it is unrealistic to spend the computation time necessary for certifiable optimality at runtime, yet certifiably optimal algorithms can still provide valuable insight to algorithm developers in an offline fashion. In this section we will provide an illustrative how this principle can be applied to RANSAC-based triangulation.\\n\\nIn particular, we compare our relaxations with exhaustive MLESAC [22] with TLS objective which we implement in the following way: first off, in order to eliminate the effect of randomness, we evaluate every possible pair of views. For each pair of views we generate a candidate point by computing the optimal triangulation using Eq. (T), which is always tight in the 2-view case (see [1]), and evaluate the robust cost function in Eq. (10). From the candidate point achieving the minimal robust cost we further generate an additional candidate point by locally refining Eq. (5) on the inlier points. The final RANSAC estimate is then whichever of the candidate points obtains the lowest robust cost.\\n\\nWe run our RANSAC implementation on every triangulation problem from the simulated experiments in Sec. 6.1 and compare against the results obtained by the certifiably optimal solvers. In cases where the relaxation is not tight we also refine the rounded solution on the inlier set. We do this for all simulated experiments and compare against our relaxations, see Tab. 2 for a breakdown of the number of cases where RANSAC was certified as optimal/suboptimal.\\n\\nIn Fig. 7 we show the percentage of cases where the robust relaxation finds a better solution than RANSAC. For low noise and outlier levels RANSAC more or less always finds the globally optimal solution, while for high noise levels there are many failure cases.\\n\\n7. Conclusion\\n\\nWe proposed a global optimization framework for robust multiview triangulation. To this end we derive semidefinite relaxations for triangulation losses that incorporate a truncated quadratic cost making them robust to both noise and outliers. On synthetic and real data we confirm that provably optimal triangulations can be computed and relaxations remain empirically tight despite significant amounts of noise and outliers.\\n\\n7.1. Acknowledgments\\n\\nThis work was supported by the ERC Advanced Grant SIMULACRON, by the Munich Center for Machine Learning and by the EPSRC Programme Grant VisualAI EP/T028572/1.\\n\\nReferences\\n\\n[1] Chris Aholt, Sameer Agarwal, and Rekha Thomas. A qcqp approach to triangulation. In European Conference on Computer Vision, pages 654\u2013667. Springer, 2012. 1, 2, 3, 6, 8, 10\\n[2] Pasquale Antonante, Vasileios Tzoumas, Heng Yang, and Luca Carlone. Outlier-robust estimation: Hardness, minimally tuned algorithms, and applications. IEEE Transactions on Robotics, 38(1):281\u2013301, 2022. 2\\n[3] MOSEK ApS. The MOSEK optimization toolbox for Python manual. Version 10.0. 3, 6\"}"}
